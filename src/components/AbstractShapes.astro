---
interface Props {
	variant?: 'hero' | 'section' | 'minimal';
	class?: string;
}

const { variant = 'section', class: className = '' } = Astro.props;
---

<div class:list={['abstract-shapes', `variant-${variant}`, className]}>
	{variant === 'hero' && (
		<>
			<div class="shape shape-nebula-1"></div>
			<div class="shape shape-nebula-2"></div>
			<div class="shape shape-circle-1"></div>
			<div class="shape shape-circle-2"></div>
			<div class="shape shape-triangle-1"></div>
			<div class="shape shape-triangle-2"></div>
			<div class="shape shape-glow-1"></div>
			<div class="shape shape-glow-2"></div>
		</>
	)}
	{variant === 'section' && (
		<>
			<div class="shape shape-circle-3"></div>
			<div class="shape shape-glow-3"></div>
			<div class="shape shape-triangle-3"></div>
		</>
	)}
	{variant === 'minimal' && (
		<>
			<div class="shape shape-glow-4"></div>
			<div class="shape shape-dot-pattern"></div>
		</>
	)}
</div>

<style>
	.abstract-shapes {
		position: absolute;
		inset: 0;
		overflow: hidden;
		pointer-events: none;
		z-index: 0;
	}

	.shape {
		position: absolute;
		opacity: 0.6;
		filter: blur(60px);
		animation: float 20s ease-in-out infinite;
	}

	/* Nebula-like blobs */
	.shape-nebula-1 {
		top: -10%;
		right: 10%;
		width: 500px;
		height: 500px;
		background: radial-gradient(circle, rgba(139, 92, 246, 0.4) 0%, rgba(139, 92, 246, 0) 70%);
		animation: float 25s ease-in-out infinite, pulse 8s ease-in-out infinite;
	}

	.shape-nebula-2 {
		bottom: -15%;
		left: 5%;
		width: 600px;
		height: 600px;
		background: radial-gradient(circle, rgba(236, 72, 153, 0.3) 0%, rgba(239, 68, 68, 0.2) 40%, rgba(236, 72, 153, 0) 70%);
		animation: float 30s ease-in-out infinite reverse, pulse 12s ease-in-out infinite 2s;
	}

	/* Glowing circles */
	.shape-circle-1 {
		top: 20%;
		left: -5%;
		width: 300px;
		height: 300px;
		background: radial-gradient(circle, rgba(139, 92, 246, 0.5) 0%, rgba(139, 92, 246, 0) 60%);
		filter: blur(40px);
		animation: float 18s ease-in-out infinite;
	}

	.shape-circle-2 {
		bottom: 30%;
		right: -8%;
		width: 400px;
		height: 400px;
		background: radial-gradient(circle, rgba(236, 72, 153, 0.4) 0%, rgba(236, 72, 153, 0) 60%);
		filter: blur(50px);
		animation: float 22s ease-in-out infinite reverse;
	}

	.shape-circle-3 {
		top: 15%;
		right: 10%;
		width: 250px;
		height: 250px;
		background: radial-gradient(circle, rgba(139, 92, 246, 0.3) 0%, rgba(139, 92, 246, 0) 60%);
		filter: blur(35px);
		animation: float 20s ease-in-out infinite;
	}

	/* Geometric shapes - triangles */
	.shape-triangle-1 {
		top: 40%;
		right: 20%;
		width: 0;
		height: 0;
		border-left: 100px solid transparent;
		border-right: 100px solid transparent;
		border-bottom: 173px solid rgba(139, 92, 246, 0.15);
		filter: blur(20px);
		animation: rotate 30s linear infinite, float 15s ease-in-out infinite;
	}

	.shape-triangle-2 {
		bottom: 20%;
		left: 15%;
		width: 0;
		height: 0;
		border-left: 80px solid transparent;
		border-right: 80px solid transparent;
		border-bottom: 139px solid rgba(236, 72, 153, 0.12);
		filter: blur(25px);
		animation: rotate 40s linear infinite reverse, float 18s ease-in-out infinite;
	}

	.shape-triangle-3 {
		top: 50%;
		left: 20%;
		width: 0;
		height: 0;
		border-left: 60px solid transparent;
		border-right: 60px solid transparent;
		border-bottom: 104px solid rgba(139, 92, 246, 0.1);
		filter: blur(18px);
		animation: rotate 35s linear infinite, float 16s ease-in-out infinite;
	}

	/* Accent glows */
	.shape-glow-1 {
		top: 10%;
		left: 30%;
		width: 200px;
		height: 200px;
		background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0) 50%);
		filter: blur(30px);
		animation: pulse 6s ease-in-out infinite;
	}

	.shape-glow-2 {
		bottom: 15%;
		right: 25%;
		width: 250px;
		height: 250px;
		background: radial-gradient(circle, rgba(236, 72, 153, 0.15) 0%, rgba(236, 72, 153, 0) 50%);
		filter: blur(35px);
		animation: pulse 8s ease-in-out infinite 3s;
	}

	.shape-glow-3 {
		top: 30%;
		right: 15%;
		width: 180px;
		height: 180px;
		background: radial-gradient(circle, rgba(139, 92, 246, 0.2) 0%, rgba(139, 92, 246, 0) 50%);
		filter: blur(25px);
		animation: pulse 7s ease-in-out infinite 1s;
	}

	.shape-glow-4 {
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		width: 300px;
		height: 300px;
		background: radial-gradient(circle, rgba(139, 92, 246, 0.08) 0%, rgba(139, 92, 246, 0) 60%);
		filter: blur(40px);
		animation: pulse 10s ease-in-out infinite;
	}

	/* Dot pattern */
	.shape-dot-pattern {
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background-image:
			radial-gradient(circle, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
		background-size: 30px 30px;
		filter: none;
		opacity: 0.4;
		animation: none;
	}

	/* Animations */
	@keyframes float {
		0%, 100% {
			transform: translate(0, 0) scale(1);
		}
		25% {
			transform: translate(20px, -30px) scale(1.05);
		}
		50% {
			transform: translate(-15px, 20px) scale(0.95);
		}
		75% {
			transform: translate(30px, 15px) scale(1.02);
		}
	}

	@keyframes pulse {
		0%, 100% {
			opacity: 0.4;
			transform: scale(1);
		}
		50% {
			opacity: 0.8;
			transform: scale(1.1);
		}
	}

	@keyframes rotate {
		from {
			transform: rotate(0deg);
		}
		to {
			transform: rotate(360deg);
		}
	}

	/* Variant adjustments */
	.variant-hero .shape {
		filter: blur(70px);
	}

	.variant-minimal .shape {
		opacity: 0.3;
		filter: blur(40px);
	}

	/* Responsive adjustments */
	@media (max-width: 1024px) {
		.shape-nebula-1,
		.shape-nebula-2 {
			width: 400px;
			height: 400px;
		}

		.shape-circle-1,
		.shape-circle-2,
		.shape-circle-3 {
			width: 200px;
			height: 200px;
		}
	}

	@media (max-width: 768px) {
		.shape-nebula-1,
		.shape-nebula-2 {
			width: 300px;
			height: 300px;
			filter: blur(40px);
		}

		.shape-circle-1,
		.shape-circle-2,
		.shape-circle-3 {
			width: 150px;
			height: 150px;
			filter: blur(30px);
		}

		.shape-triangle-1,
		.shape-triangle-2,
		.shape-triangle-3 {
			display: none; /* Hide triangles on mobile for performance */
		}

		.shape-glow-1,
		.shape-glow-2,
		.shape-glow-3,
		.shape-glow-4 {
			width: 150px;
			height: 150px;
			filter: blur(20px);
		}
	}

	@media (prefers-reduced-motion: reduce) {
		.shape {
			animation: none;
		}
	}
</style>
